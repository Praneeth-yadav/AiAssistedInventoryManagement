{"ast":null,"code":"import _regeneratorRuntime from\"/Users/praneetheraganaboina/Desktop/Learnings/PRJ_R/myapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/praneetheraganaboina/Desktop/Learnings/PRJ_R/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/praneetheraganaboina/Desktop/Learnings/PRJ_R/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef,useState}from\"react\";import dashboardStyle from\"./Dashboard.module.css\";import{Items}from\"./Items\";import{Navbar}from\"./Navbar\";import{IconButton,Input}from\"@chakra-ui/react\";import{useLocation,useNavigate}from\"react-router-dom\";import{Newitem}from\"./Newitem\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),load=_useState2[0],setload=_useState2[1];var response={data:[{addedBy:\"\",category:\"\",createdDate:\"\",description:\"\",id:1,imglocation:\"../resources/loading.jpg\",item:\"Loading....\",price:null,quantity:null,updatedDate:\"\"}]};var navigate=useNavigate();var location=useLocation();console.log(\"location data:  \",location);var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),authenticated=_useState4[0],setauthenticated=_useState4[1];var _useState5=useState(response.data),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setsearch=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),searchval=_useState8[0],setsearchval=_useState8[1];console.log(\"Auth \",authenticated);useEffect(function(){var loggedInUser=localStorage.getItem(\"authenticated\");console.log(\"loggedin\",location.state.name);if(loggedInUser){setauthenticated(loggedInUser);}else{navigate(\"/\",{replace:true});}var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://127.0.0.1:5000/items\");case 3:res=_context.sent;console.log(\"result=\",res);setsearch(res.data);console.log(\"response=\",res.data);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[authenticated,navigate,location.state.name,load]);function Additem(){if(location.state.name==\"Admin\"){return/*#__PURE__*/_jsx(Newitem,{setload:setload});}else return/*#__PURE__*/_jsx(_Fragment,{});}var searchitem=function searchitem(e){e.preventDefault();// console.log(\"search bar-\", e.target.value);\nsetsearchval(e.target.value);// console.log(\"search val-\", searchval);\nvar resp1=response.data.filter(function(data){return(data.item||data.category).includes(e.target.value);});console.log(\"resp1=\",resp1);setsearch(resp1);};function Searchbar(){if(location.state.name!=\"Admin\"){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Input//ref={searchval}\n,{value:searchval,onChange:searchitem,className:dashboardStyle.search,variant:\"filled\",placeholder:\"Search\",autoFocus:true})});}}return/*#__PURE__*/_jsxs(\"div\",{className:dashboardStyle.content,children:[/*#__PURE__*/_jsx(Navbar,{name:location.state.name}),/*#__PURE__*/_jsx(Additem,{}),/*#__PURE__*/_jsx(Searchbar,{}),/*#__PURE__*/_jsx(\"div\",{className:dashboardStyle.itemsmod,children:search.map(function(data){// console.log(\"data=\", data.id);\n// console.log(\"data=\", data);\nreturn/*#__PURE__*/_jsx(Items,{className:dashboardStyle.item,props:data,name:location.state.name,setload:setload,load:load},data.id);})})]});};export default Dashboard;","map":{"version":3,"names":["useEffect","useRef","useState","dashboardStyle","Items","Navbar","IconButton","Input","useLocation","useNavigate","Newitem","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Dashboard","_useState","_useState2","_slicedToArray","load","setload","response","data","addedBy","category","createdDate","description","id","imglocation","item","price","quantity","updatedDate","navigate","location","console","log","_useState3","_useState4","authenticated","setauthenticated","_useState5","_useState6","search","setsearch","_useState7","_useState8","searchval","setsearchval","loggedInUser","localStorage","getItem","state","name","replace","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","sent","t0","stop","apply","arguments","Additem","searchitem","e","preventDefault","target","value","resp1","filter","includes","Searchbar","children","onChange","className","variant","placeholder","autoFocus","content","itemsmod","map","props"],"sources":["/Users/praneetheraganaboina/Desktop/Learnings/PRJ_R/myapp/src/components/Dashboard.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport dashboardStyle from \"./Dashboard.module.css\";\nimport { Items } from \"./Items\";\nimport { Navbar } from \"./Navbar\";\n\nimport { IconButton, Input } from \"@chakra-ui/react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { Newitem } from \"./Newitem\";\nimport axios from \"axios\";\n\nconst Dashboard = () => {\n  const [load, setload] = useState(false);\n  let response = {\n    data: [\n      {\n        addedBy: \"\",\n        category: \"\",\n        createdDate: \"\",\n        description: \"\",\n        id: 1,\n        imglocation: \"../resources/loading.jpg\",\n        item: \"Loading....\",\n        price: null,\n        quantity: null,\n        updatedDate: \"\",\n      },\n    ],\n  };\n  const navigate = useNavigate();\n  const location = useLocation();\n  console.log(\"location data:  \", location);\n\n  const [authenticated, setauthenticated] = useState(null);\n  const [search, setsearch] = useState(response.data);\n  const [searchval, setsearchval] = useState();\n\n  console.log(\"Auth \", authenticated);\n\n  useEffect(() => {\n    const loggedInUser = localStorage.getItem(\"authenticated\");\n    console.log(\"loggedin\", location.state.name);\n\n    if (loggedInUser) {\n      setauthenticated(loggedInUser);\n    } else {\n      navigate(\"/\", { replace: true });\n    }\n    const fetchData = async () => {\n      try {\n        const res = await axios.get(\"http://127.0.0.1:5000/items\");\n        console.log(\"result=\", res);\n        setsearch(res.data);\n        console.log(\"response=\", res.data);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    fetchData();\n  }, [authenticated, navigate, location.state.name, load]);\n\n  function Additem() {\n    if (location.state.name == \"Admin\") {\n      return <Newitem setload={setload} />;\n    } else return <></>;\n  }\n  const searchitem = (e) => {\n    e.preventDefault();\n    // console.log(\"search bar-\", e.target.value);\n    setsearchval(e.target.value);\n    // console.log(\"search val-\", searchval);\n    const resp1 = response.data.filter((data) => {\n      return (data.item || data.category).includes(e.target.value);\n    });\n    console.log(\"resp1=\", resp1);\n    setsearch(resp1);\n  };\n  function Searchbar() {\n    if (location.state.name != \"Admin\") {\n      return (\n        <>\n          <Input\n            //ref={searchval}\n            value={searchval}\n            onChange={searchitem}\n            className={dashboardStyle.search}\n            variant=\"filled\"\n            placeholder=\"Search\"\n            autoFocus\n          />\n        </>\n      );\n    }\n  }\n  return (\n    <div className={dashboardStyle.content}>\n      <Navbar name={location.state.name} />\n      <Additem />\n      <Searchbar />\n      <div className={dashboardStyle.itemsmod}>\n        {search.map((data) => {\n          // console.log(\"data=\", data.id);\n          // console.log(\"data=\", data);\n          return (\n            <Items\n              key={data.id}\n              className={dashboardStyle.item}\n              props={data}\n              name={location.state.name}\n              setload={setload}\n              load={load}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\nexport default Dashboard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}